//氇皵鞚� REM 氚橃潙
function fontResize(){
  var resolution=640, font=16;
  var width = $('html').width();
  var fontSize = font * (width/resolution);
  $('html').css('font-size', fontSize);
}

//旎错摠韯� 雮犾旮办 鞛愲彊 瓿勳偘(於旐泟 靹滊矂 鞁滉皠 旮办鞙茧 氤€瓴� 氚旊瀸)
function todayTime(option) {

  var count = null;

  var d = new Date();
  var yy = d.getFullYear();
  var mm = (d.getMonth() + 1);
  var dd = d.getDate();

  var hh = d.getHours();
  var mi = d.getMinutes();
  var se = d.getSeconds();


  if(option == 'today') {
    count = [yy,mm,dd];
  }else if(option == 'time') {
    count = [hh,mi,se];
  }else{
    count = [yy,mm,dd,hh,mi,se];
  }
  return count;

}

//雮犾 牍勲 鞛愲彊 韥措灅鞀�
function sliderElement() {
  //slider Element Change
  var today = todayTime('today');
  var time = todayTime('time');

  //settings
  var monSet = 11;
  var displaySlider = '';
  var subTimeEl = [' .banner-time-1',' .banner-time-2',' .banner-time-3'];
  var subTimeFunc = function() {
    if(time[0] > 5 && time[0] < 10) {
      displaySlider += subTimeEl[0];
    }else if(time[0] > 10 && time[0] < 17) {
      displaySlider += subTimeEl[1];
    }else{
      displaySlider += subTimeEl[2];
    }
  }
  if(today[1] == monSet) {
    displaySlider = '.timezone-11';
    subTimeFunc();
  }else{
    displaySlider = '.timezone-etc';
    subTimeFunc();
  }
  return displaySlider;
}

//鞀澕鞚措摐
function bxSliders(obj, margin, count, controller, auto, loop) {
  var options = {
    mode: 'horizontal',
    speed: 300,
    pause: 4000,
    touchEnabled: true,
    auto: auto,
    responsive: true,
    autoHover: false,
    minSlides: count,
    slideWidth: 1080,
    slideMargin:margin,
    maxSlides: count,
    infiniteLoop:loop,
    moveSlides: 1
  };
  options['controls'] = (controller == 'controls') ? true:(controller == 'all') ? true:false;
  options['pager'] = (controller == 'pager') ? true:(controller == 'all') ? true:false;
  var slider = $(obj).bxSlider(options);
}

//鞁ろ枆
$(document).ready(function(){

  //雮犾 氚� 鞁滉皠鞐� 霐半澕 鞀澕鞚措摐 鞛愲彊 雲胳稖
  var displayEl = sliderElement();
  $(displayEl).show();

  //鞀澕鞚措摐 鞚措菠韸� 旎姼搿� 頃垬 (element,臧勱博,雲胳稖臧垬,旎姼搿る煬(膦岇毎,韼橃澊歆�),鞓ろ啝,氚橂车)
  setTimeout(function() {
    bxSliders(displayEl + ' .bx-slider', 0, 1, 'all', true, true);
  }, 200);

  //REM 氚橃潙順� 頃垬
  fontResize();
  $(window).bind('resize', function(){fontResize();});


});
